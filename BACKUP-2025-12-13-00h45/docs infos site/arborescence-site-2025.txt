═══════════════════════════════════════════════════════════════════
    ARBORESCENCE SITE SOLAIRE NETTOYAGE
    Date: 12 Décembre 2025
═══════════════════════════════════════════════════════════════════

solaire-nettoyage-site/
│
├── app/                                    # Next.js App Router
│   ├── layout.tsx                          # Layout principal
│   ├── page.tsx                            # Page d'accueil
│   │
│   ├── admin/                              # Section Admin
│   │   ├── gestion-clients/
│   │   │   └── page.tsx                    # Gestion clients (CRUD)
│   │   └── import-sites/
│   │       └── page.tsx                    # Import sites Excel
│   │
│   ├── client/                             # Section Client (Dataroom)
│   │   ├── login/
│   │   │   └── page.tsx                    # Login client
│   │   └── dashboard/
│   │       └── page.tsx                    # Dashboard client (interventions + sites + carte)
│   │
│   └── intranet/                           # Section Intranet
│       ├── login/
│       │   └── page.tsx                    # Login intranet
│       └── dashboard/
│           └── page.tsx                    # Dashboard intranet
│
├── components/                             # Composants réutilisables
│   └── MapView.tsx                         # Composant carte Leaflet
│
├── lib/                                    # Librairies et utilitaires
│   └── firebase/                           # Firebase
│       ├── config.ts                       # Configuration Firebase
│       ├── index.ts                        # Exports centralisés
│       ├── clients.ts                      # CRUD clients
│       ├── sites.ts                        # CRUD sites (ancienne structure)
│       ├── import-sites.ts                 # Import sites + getSitesCompletByClient
│       ├── interventions.ts                # CRUD interventions
│       ├── demandes.ts                     # Demandes d'accès
│       └── storage.ts                      # Upload fichiers
│
├── public/                                 # Fichiers statiques
│   ├── rapports/                           # Rapports clients
│   └── assets/                             # Images, logos
│
├── node_modules/                           # Dépendances npm
│
├── .next/                                  # Build Next.js (cache)
│
├── package.json                            # Dépendances projet
├── package-lock.json                       # Lock dépendances
├── tsconfig.json                           # Configuration TypeScript
├── next.config.js                          # Configuration Next.js
├── tailwind.config.js                      # Configuration Tailwind CSS
├── .env.local                              # Variables d'environnement (local)
├── .gitignore                              # Fichiers ignorés par Git
└── README.md                               # Documentation projet

═══════════════════════════════════════════════════════════════════
COLLECTIONS FIREBASE
═══════════════════════════════════════════════════════════════════

clients/                                    # Clients dataroom
  └─ {clientId}
      - company
      - email
      - password
      - contactName
      - phone
      - active
      - createdAt

sites/                                      # Sites avec structure complète
  └─ {siteId}
      - clientId
      - complementNom (ID unique)
      - nomSite
      - adresse1, adresse2, adresse3
      - ville, codePostal, pays
      - tel, portable, email, contact
      - surface, pente, eau
      - infosCompl, typeInterv, accesCamion
      - gps, lat, lng
      - createdAt

interventions/                              # Interventions réalisées
  └─ {interventionId}
      - clientId
      - siteId
      - siteName
      - numero
      - date
      - technicien
      - statut
      - prix
      - rapportUrl
      - createdAt

demandes/                                   # Demandes accès dataroom
  └─ {demandeId}
      - company
      - email
      - contactName
      - phone
      - message
      - statut
      - createdAt

═══════════════════════════════════════════════════════════════════
DÉPENDANCES PRINCIPALES
═══════════════════════════════════════════════════════════════════

✅ next@14.2.0                              # Framework React
✅ react@18.3.1                             # Librairie UI
✅ firebase@10.x                            # Backend Firebase
✅ tailwindcss@3.x                          # CSS utility-first
✅ typescript@5.x                           # Typage statique
✅ leaflet@1.9.4                            # Cartes (gratuit)
✅ react-leaflet@4.2.1                      # Leaflet pour React
✅ xlsx@0.18.x                              # Lecture fichiers Excel

═══════════════════════════════════════════════════════════════════
FONCTIONNALITÉS ACTUELLES
═══════════════════════════════════════════════════════════════════

ADMIN:
✅ Gestion clients (créer, modifier, supprimer)
✅ Import sites Excel avec prévisualisation
✅ Sélection individuelle sites (checkboxes)
✅ Filtres (avec/sans GPS, avec/sans surface)
✅ Détection doublons automatique

CLIENT (DATAROOM):
✅ Login sécurisé
✅ Dashboard avec 3 onglets:
   - Interventions (liste + télécharger PDF)
   - Mes Sites (liste + détails)
   - Carte (France avec marqueurs Leaflet)
✅ Modal site individuel avec carte
✅ Stats: interventions, montant, nb sites

INTRANET:
✅ Login équipe
✅ Dashboard basique

═══════════════════════════════════════════════════════════════════
À CRÉER (PROCHAINES PHASES)
═══════════════════════════════════════════════════════════════════

PHASE 1 - GROUPES (EN COURS):
⏳ Structure hiérarchique: Groupes → Sociétés → Sites
⏳ Page gestion groupes (CRUD)
⏳ Collection Firebase groupes/

PHASE 2 - SOCIÉTÉS:
⏳ Page gestion sociétés (CRUD)
⏳ Lien avec groupes

PHASE 3 - ADAPTATION SITES:
⏳ Ajouter societeId aux sites
⏳ Modifier import sites

PHASE 4 - DEVIS:
⏳ Page gestion devis (CRUD)
⏳ Upload PDF devis
⏳ Dashboard client voir devis

PHASE 5 - PLANNING:
⏳ Calendrier admin
⏳ Planifier interventions
⏳ Dashboard client voir planning
⏳ Demandes changement planning

═══════════════════════════════════════════════════════════════════
FIN ARBORESCENCE
═══════════════════════════════════════════════════════════════════
